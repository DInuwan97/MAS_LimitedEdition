@using MAS_Sustainability.Models;
@model MainModel
@{
    ViewBag.Title = "ProcessingTokensPreView";
}

<div class="content" id="panelDiv">
    @if (Model != null)
    {
        <div class="page-inner">
            <div class="row justify-content-center">


                <div class="col-12 col-lg-10 col-xl-9">
                    <div class="row align-items-center">
                        <div class="col">

                            <h4 class="page-title">Preview - My Processing Problems</h4>
                        </div>
                        <div class="col-auto">

                            <a href="#" onclick="HTMLtoPDF()" class="btn btn-primary ml-2">
                                Download
                            </a>
                        </div>
                    </div>
                    <div class="page-divider"></div>

                    <div class="row" id="HTMLtoPDF">
                        <div class="col-md-12">
                            <div class="card card-invoice">
                                <div class="card-header">

                                    <h3 class="invoice-title">
                                        <img src="~/Content/images/MAS_logo.png" alt="" style="width:150px; height:35px">
                                    </h3>

                                    <div class="row">
                                        Industrial Maintainability & Safety Controlling System
                                    </div>


                                </div>
                                <div class="card-body">
                                    <div class="separator-solid"></div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="invoice-detail">
                                                <div class="invoice-top">
                                                    <h3 class="title"><strong>My Processing Problems</strong></h3>
                                                </div>
                                                <div class="invoice-item">
                                                    <div class="table-responsive">
                                                        <table class="table table-striped">
                                                            <thead>
                                                                <tr>
                                                                    <th>Problem Name</th>
                                                                    <th>Location</th>
                                                                    <th style="width:50px">Category</th>
                                                                    <th>Reparation</th>
                                                                    <th>Deadline</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>


                                                                @foreach (var no_of_tokens_expired in Model.ExpiredTokensList)
                                                                {
                                                                    if (@no_of_tokens_expired.TokenStatus_Expired != ("Pending") && @no_of_tokens_expired.CompleteStatus_Expired != ("Completed"))
                                                                    {

                                                                        <tr>
                                                                            <td style="color:red; font-style:bold"><b style="color:red">@no_of_tokens_expired.ProblemName_Expired</b></td>
                                                                            <td style="color:red; font-style:bold"><b style="color:red">@no_of_tokens_expired.Location_Expired</b></td>
                                                                            <td style="width:50px;color:red; font-style:bold"><b style="color:red">@no_of_tokens_expired.ProblemCategory_Expired</b></td>
                                                                            <td style="color:red; font-style:bold"><b style="color:red">@no_of_tokens_expired.TokenStatus_Expired</b></td>
                                                                            <td style="color:red; font-style:bold"><b style="color:red">@no_of_tokens_expired.DeadLine_Expired</b></td>
                                                                        </tr>

                                                                    }

                                                                }


                                                                @foreach (var no_of_tokens in Model.ListToken)
                                                                {
                                                                    if (@no_of_tokens.TokenStatus != ("Pending") && @no_of_tokens.CompleteStatus != ("Completed"))
                                                                    {

                                                                        <tr>
                                                                            <td>@no_of_tokens.ProblemName</td>
                                                                            <td>@no_of_tokens.Location</td>
                                                                            <td style="width:50px">@no_of_tokens.ProblemCategory</td>
                                                                            <td>@no_of_tokens.TokenStatus</td>
                                                                            <td>@no_of_tokens.DeadLine</td>
                                                                        </tr>

                                                                    }

                                                                }


                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="separator-solid  mb-3"></div>
                                        </div>
                                    </div>



                                </div>
                                <div class="card-footer">

                                    <div class="separator-solid"></div>
                                    <h6 class="text-uppercase mt-4 mb-3 fw-bold">
                                        Developped by THIRTYFIRST LANKA
                                    </h6>

                                </div>
                            </div>
                        </div>
                    </div>




                </div>


            </div>
        </div>
    }
    </div>

<script src="~/Content/assets/js/jspdf.js"></script>
<script src="~/Content/assets/js/jquery-2.1.3.js"></script>
<script src="~/Content/assets/js/pdfFromHTML.js"></script>

<script src="~/Content/assets/js/core/jquery.3.2.1.min.js"></script>
<script src="~/Content/assets/js/core/popper.min.js"></script>
<script src="~/Content/assets/js/core/bootstrap.min.js"></script>
<!-- jQuery UI -->
<script src="~/Content/assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
<script src="~/Content/assets/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>
<!-- Bootstrap Toggle -->
<script src="~/Content/assets/js/plugin/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<!-- jQuery Scrollbar -->
<script src="~/Content/assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
<!-- Atlantis JS -->
<script src="~/Content/assets/js/atlantis.min.js"></script>
<!-- Atlantis DEMO methods, don't include it in your project! -->
<script src="~/Content/assets/js/setting-demo.js"></script>



